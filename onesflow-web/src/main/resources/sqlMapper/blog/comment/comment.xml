<?xml version="1.0" encoding="UTF-8" ?>
        <!DOCTYPE mapper
                PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
                "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!--CREATE TABLE `mail_record` (
  `id`             BIGINT UNSIGNED NOT NULL AUTO_INCREMENT,
  `type`           TINYINT(1)     NOT NULL,
  `content`        VARCHAR(1024) NOT NULL,
  `gmt_create`     DATETIME        NOT NULL,
  `gmt_modified`   DATETIME        NOT NULL,
  PRIMARY KEY (`id`)
)
  DEFAULT CHARACTER SET = utf8;-->
<mapper namespace="com.thenorthw.onesflow.comment.dao.blog.comment.BlogCommentDao">
    <resultMap id="BlogCommentMaps" type="BlogComment">
        <id column="id" property="id" jdbcType="BIGINT"/>
        <result column="aid" property="aid" jdbcType="BIGINT"/>
        <result column="uid" property="uid" jdbcType="BIGINT"/>
        <result column="content" property="content" jdbcType="VARCHAR"/>
        <result column="gmt_create" property="gmtCreate" jdbcType="TIMESTAMP"/>
        <result column="gmt_modified" property="gmtModified" jdbcType="TIMESTAMP"/>
    </resultMap>

    <sql id="fullColumns">
      `id`,
      `aid`,
      `uid`,
      `content`,
      `gmt_create`,
      `gmt_modified`
    </sql>


    <insert id="addBlogArticleComment" parameterType="BlogComment">
        INSERT INTO blog_comment(
          `aid`,
          `uid`,
          `content`,
          `gmt_create`,
          `gmt_modified`
        )
        VALUES (#{aid},#{uid},#{content},now(),now());
    </insert>

    <select id="getBlogCommentByPage" resultMap="BlogCommentMaps">
        SELECT
        <include refid="fullColumns"/>
        FROM blog_comment
        WHERE aid=#{aid}
        LIMIT #{pageNumber},#{pageSize}
    </select>
</mapper>